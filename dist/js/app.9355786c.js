(function(t){function e(e){for(var a,o,s=e[0],d=e[1],l=e[2],u=0,f=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&f.push(c[o][0]),c[o]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(t[a]=d[a]);r&&r(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var d=n[s];0!==c[d]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},c={app:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var r=d;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1b20":function(t,e,n){"use strict";n("25b6")},"25b6":function(t,e,n){},"295b":function(t,e,n){"use strict";n("baef")},"40d8":function(t,e,n){},"42bc":function(t,e,n){t.exports=n.p+"img/pika.f6d874da.png"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("router-view",{attrs:{contacts:t.contacts},on:{addField:t.addField,deleteContact:t.deleteContact,deleteField:t.deleteField,changeField:t.changeField,addContact:t.addContact,alphabetSort:t.alphabetSort}})],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("div",{staticClass:"container"},[n("a",{attrs:{href:"/"}},[n("p",[t._v("Книга контактов")])])])])}],o=(n("4de4"),n("fb6a"),n("b0c0"),n("a9e3"),{name:"Main",data:function(){return{contacts:[]}},mounted:function(){this.contacts=JSON.parse(sessionStorage.contacts)},methods:{alphabetSort:function(){this.contacts=this.contacts.sort((function(t,e){return t.name>e.name?1:-1})),this.contacts=this.contacts.slice(0,this.contacts.length)},deleteContact:function(t){this.contacts=this.contacts.filter((function(e){return e.id!==Number(t)}))},addField:function(t,e,n){this.contacts[t[0]][e]=n,this.contacts=this.contacts.slice(0,this.contacts.length)},deleteField:function(t,e){console.log(t,e),delete this.contacts[t[0]][e],this.contacts=this.contacts.slice(0,this.contacts.length)},changeField:function(t,e,n){this.contacts[t][e]=n,this.contacts=this.contacts.slice(0,this.contacts.length)},addContact:function(t,e){this.contacts.push({id:Date.now(),name:t,phone:e}),this.contacts=this.contacts.slice(0,this.contacts.length)}},watch:{contacts:function(t){sessionStorage["contacts"]=JSON.stringify(t)}}}),s=o,d=(n("5fcf"),n("2877")),l=Object(d["a"])(s,c,i,!1,null,"47bd8a40",null),r=l.exports,u=n("8c4f"),f=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"welcomeContainer"},[a("span",[t._v("Книга контактов с использованием local storage")]),a("img",{attrs:{src:n("42bc")}}),a("span",[t._v("При переходе на данную страницу в sessionStorage записывается базовый список контактов")]),a("br"),a("br"),a("span",[t._v("Если у вас что-то не запустилось или вылезла какая-то ошибка, будьте добры, напишите мне на почту: geroy1219@gmail.com")]),a("a",{attrs:{href:"/ContactsPage"}},[t._v("К заданию! ")])])}],m={mounted:function(){sessionStorage.setItem("contacts",JSON.stringify([{id:0,name:"Валентин Тарасов",phone:"+74950219729"},{id:1,name:"Михаил Трифонов",phone:"+74955736241"},{id:2,name:"Василий Карпов",phone:"+74953287248"},{id:3,name:"Константин Власов",phone:"+74958698377"},{id:4,name:"Георгий Костин",phone:"+74959927121"},{id:5,name:"Карл Ковалёв",phone:"+74959432956"},{id:6,name:"Харитон Сафонов",phone:"+74959432956"},{id:7,name:"Макс Жириновский",phone:"+74955058831"},{id:8,name:"Лев Логунов",phone:"+74952453660"},{id:9,name:"Пётр Якушев",phone:"+74951481954"},{id:10,name:"Дональт Беляков",phone:"+74958698377"},{id:11,name:"Харитон Юдин",phone:"+74959927121"},{id:12,name:"Влад Алексеев",phone:"+74959927121"},{id:13,name:"Антон Николаев",phone:"+74959927121"}]))}},p=m,C=(n("8021"),Object(d["a"])(p,f,h,!1,null,null,null)),v=C.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"pageContainer"},[n("div",{staticClass:"addContactContainer"},[n("AddAContact",{on:{addContact:t.addContact}})],1),n("div",{staticClass:"contactListContainer"},[n("div",{staticClass:"labelBlock"},[n("span",[t._v("Список контактов")]),n("button",{staticClass:"sortButton",on:{click:t.alphabetSort}},[t._v(" Сортировать по алфавиту ")])]),n("ContactList",{attrs:{contacts:t.contacts},on:{deleteContact:t.deleteContact,addContact:t.addContact}})],1)])])},b=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"addUserContainer"},[t._m(0),n("button",{staticClass:"buttonitselfonClick",on:{click:t.addContact}},[t._v(" Add user ")])])},y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",[n("div",{staticClass:"formTbs"},[n("label",{attrs:{htmlFor:"name"}},[t._v("Name")]),n("input",{staticClass:"inputInfo",attrs:{type:"text",id:"nameForAdd"}}),n("label",{attrs:{htmlFor:"phone"}},[t._v("Phone")]),n("input",{staticClass:"inputInfo",attrs:{type:"text",id:"phoneForAdd"}})])])}],F={name:"AddAContact",methods:{addContact:function(){0!==document.getElementById("nameForAdd").value.length&&0!==document.getElementById("phoneForAdd").value.length?(this.$emit("addContact",document.getElementById("nameForAdd").value,document.getElementById("phoneForAdd").value),document.getElementById("nameForAdd").value="",document.getElementById("phoneForAdd").value=""):alert("Пожалуйста, заполните все поля!")}}},O=F,A=(n("1b20"),Object(d["a"])(O,_,y,!1,null,null,null)),I=A.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contactListCont"},t._l(t.contacts,(function(e,a){return n("Contact",{key:e.id,attrs:{contact:e,index:a,id:e.id},on:{deleteContact:t.deleteContact}})})),1)},x=[],E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contactContainer"},[n("div",{staticClass:"basicInformation"},[n("span",{staticClass:"cindex"},[t._v(t._s(t.index+1))]),t._v(" Имя: "),n("span",{staticClass:"cname"},[t._v(t._s(t.contact.name))]),t._v(" Контактный телефон:"),n("span",{staticClass:"cphone"},[t._v(t._s(t.contact.phone))])]),n("div",{staticClass:"contactMenu"},[n("a",{attrs:{href:"/ContactsPage/"+t.id}},[n("button",[t._v("Подробная информация")])]),n("button",{staticClass:"deleteButton",on:{click:function(e){return t.deleteContact()}}},[t._v("Удалить")])])])},$=[],w={name:"Contact",props:{id:Number,contact:Object,index:Number},methods:{deleteContact:function(){var t=this.contact.name;this.$emit("deleteContact",this.id,t)}}},B=w,S=(n("7a5a"),Object(d["a"])(B,E,$,!1,null,null,null)),j=S.exports,k={name:"ContactList",components:{Contact:j},props:{contacts:Array},methods:{deleteContact:function(t,e){this.$emit("deleteContact",t,e)}}},P=k,M=(n("fd79"),Object(d["a"])(P,N,x,!1,null,null,null)),L=M.exports,R={name:"PageOne",components:{AddAContact:I,ContactList:L},props:{contacts:{type:Array,required:!0}},methods:{alphabetSort:function(){this.$emit("alphabetSort")},deleteContact:function(t,e){confirm("Вы действительно хотите удалить контакт ".concat(e,"?"))&&this.$emit("deleteContact",t)},addContact:function(t,e){alert(t),this.$emit("addContact",t,e)}}},T=R,V=(n("7d5a"),Object(d["a"])(T,g,b,!1,null,"d787112a",null)),J=V.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contactDetailWrapper"},[n("div",{staticClass:"contactDetailConatainer"},[n("div",{staticClass:"topButtonsContainer"},[t._m(0),n("button",{staticClass:"cancelLastAction",on:{click:function(e){return t.cancelLastChange()}}},[t._v(" Отменить последнее действие ")])]),t._l(t.fields,(function(e){return n("div",{key:e.fieldName},["id"!=e.fieldName?n("div",{staticClass:"paramsWrapper"},[n("div",{staticClass:"parameters"},["name"!==e.fieldName?n("div",{staticClass:"parName"},[t._v(" "+t._s(e.fieldName)+" ")]):t._e(),n("input",{attrs:{type:"text",id:e.fieldName,disabled:""},domProps:{value:e.fieldValue}}),e.isRedactMode?t._e():n("button",{staticClass:"tgglredactButton",on:{click:function(n){return t.openRedactMode(e)}}},[t._v(" Редактировать ")]),e.isRedactMode?n("button",{staticClass:"completeRedact",on:{click:function(n){return t.confirmChange(e)}}},[t._v(" Подтвердить изменения ")]):t._e(),e.isRedactMode?n("button",{staticClass:"cancelRedact",on:{click:function(n){return t.cancelChange(e)}}},[t._v(" Отменить изменения ")]):t._e(),"name"!=e.fieldName?n("button",{staticClass:"delField",on:{click:function(n){return t.deleteField(e)}}},[t._v(" Удалить поле ")]):t._e()])]):t._e()])})),n("div",{staticClass:"addingCont"},[n("input",{staticClass:"addField",attrs:{id:"fieldToAdd",type:"text"}}),n("button",{on:{click:function(e){return t.addField()}}},[t._v("Добавить поле")])])],2)])},W=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"/ContactsPage"}},[n("button",{staticClass:"backToButton"},[t._v("Назад к контактам")])])}],q=(n("ac1f"),n("5319"),n("1276"),{name:"ContactDetail",props:{id:String,contacts:Array},data:function(){return{contact:[],fields:[],lastChangedIndex:-1,lastAction:"none",changedField:{}}},watch:{contacts:function(){this.contact=this.contacts[this.getIdOfCurrentContact()],this.fields=[];var t=0;for(var e in this.contact)this.fields.push({fieldName:e,fieldValue:this.contact[e],isRedactMode:!1,fieldIndex:t}),t+=1}},methods:{getIdOfCurrentContact:function(){for(var t=0;t<this.contacts.length;t++)if(this.contacts[t].id==this.id)return[t]},rememberLastAction:function(t,e,n,a){this.lastChangedIndex=t,this.lastAction=e,this.changedField.value=a,this.changedField.name=n},addField:function(){var t=document.getElementById("fieldToAdd").value.replace(/ /g,"").split(":");2!==t.length?alert("Поле заполнено неверно!"):"id"===t[0]?alert("Данное поле зарезервировано"):Object.prototype.hasOwnProperty.call(this.contact,t[0])?alert("Данное поле уже присутствует у данного контакта!"):(this.rememberLastAction(null,"add",t[0],t[1]),this.$emit("addField",this.getIdOfCurrentContact(),t[0],t[1]))},deleteField:function(t){"id"===t.fieldName?alert("Данное поле зарезервировано и его нельзя удалить"):"id"===t.fieldName?alert("Поле Имя нельзя удалить"):"phone"===t.fieldName?alert("Поле Контактный номер нельзя удалить"):confirm("Вы действительно хотите удалить это поле?")&&(this.rememberLastAction(t.fieldIndex,"delete",t.fieldName,t.fieldValue),this.$emit("deleteField",this.getIdOfCurrentContact(),t.fieldName))},openRedactMode:function(t){document.getElementById(t.fieldName).disabled=!1,t.isRedactMode=!0},cancelChange:function(t){confirm("Вы действительно хотите отменить редактирование?")&&(document.getElementById(t.fieldName).disabled=!0,t.isRedactMode=!1)},confirmChange:function(t){""!==document.getElementById(t.fieldName).value?(this.rememberLastAction(t.fieldIndex,"edit",t.fieldName,t.fieldValue),t.fieldValue=document.getElementById(t.fieldName).value,document.getElementById(t.fieldName).isRedactMode=!1,document.getElementById(t.fieldName).disabled=!0,this.$emit("changeField",this.getIdOfCurrentContact(),t.fieldName,t.fieldValue)):alert("Поле не может быть пустым!")},cancelLastChange:function(){"edit"===this.lastAction&&this.$emit("changeField",this.getIdOfCurrentContact(),this.changedField.name,this.changedField.value),"delete"===this.lastAction&&this.$emit("addField",this.getIdOfCurrentContact(),this.changedField.name,this.changedField.value),"add"===this.lastAction&&this.$emit("deleteField",this.getIdOfCurrentContact(),this.changedField.name)}}}),U=q,z=(n("295b"),Object(d["a"])(U,D,W,!1,null,null,null)),G=z.exports;a["a"].use(u["a"]);var H=new u["a"]({mode:"history",routes:[{path:"/",component:v},{path:"/ContactsPage",component:J,props:!0},{path:"/ContactsPage/:id",component:G,props:!0}]});a["a"].config.productionTip=!1,new a["a"]({router:H,render:function(t){return t(r)}}).$mount("#app")},"5fcf":function(t,e,n){"use strict";n("9d75")},"6c16":function(t,e,n){},"79cb":function(t,e,n){},"7a5a":function(t,e,n){"use strict";n("ebf5")},"7d5a":function(t,e,n){"use strict";n("6c16")},8021:function(t,e,n){"use strict";n("79cb")},"9d75":function(t,e,n){},baef:function(t,e,n){},ebf5:function(t,e,n){},fd79:function(t,e,n){"use strict";n("40d8")}});
//# sourceMappingURL=app.9355786c.js.map